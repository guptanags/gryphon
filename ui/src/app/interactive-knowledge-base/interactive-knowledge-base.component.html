<div class="interactive-knowledge-base-container">
  <header>
    <div class="logo">
      <img src="assets/gryphon-ai-logo.jpg" alt="Gryphen AI Logo" style="height:75px; vertical-align:middle;" />
    </div>
    <div class="user-info">
      <span class="notification">!</span>
      <span class="user">User</span>
    </div>
  </header>

  <div class="main-content">
    <app-sidebar></app-sidebar>

    <main class="content-area">
      <h1>RAG Q&A</h1>

      <div class="input-section">
        <textarea placeholder="Ask a question about the codebase..." [(ngModel)]="question" rows="3"></textarea>
        <button (click)="sendQuestion()" class="send-btn" [disabled]="loading">
          {{ loading ? 'Sending...' : 'Send' }}
        </button>
      </div>

      <section class="qa-section" *ngIf="loading || response">
        <div *ngIf="loading" class="loading-indicator">
          Fetching answer...
        </div>

        <div *ngIf="response" class="ai-response">
          <div class="answer-section">
            <h3>Answer</h3>
            <pre>{{ response.answer }}</pre>
          </div>

          <div class="context-section">
            <h3>Code Context</h3>
            <pre>{{ response.code_context }}</pre>
          </div>

          <div class="context-section">
            <h3>Documentation Context</h3>
            <pre>{{ response.doc_context }}</pre>
          </div>
        </div>
      </section>
    </main>
  </div>
</div>